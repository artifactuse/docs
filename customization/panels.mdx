---
title: Custom Panels
description: Build your own panel artifacts
icon: "puzzle"
---

## Overview

Panel artifacts are standalone web apps that run inside iframes and communicate with the Artifactuse SDK via postMessage. You can build custom panels using any framework - React, Vue, Svelte, or vanilla JavaScript.

<Card title="Panels Repository" icon="github" href="https://github.com/artifactuse/panels">
  View source code, development docs, and contribution guidelines
</Card>

## Official Panels

| Package | Description | Tier |
|---------|-------------|------|
| `@artifactuse/json-panel` | Interactive JSON tree viewer | ðŸ†“ Free |
| `@artifactuse/svg-panel` | SVG preview with pan/zoom | ðŸ†“ Free |
| `@artifactuse/diff-panel` | Side-by-side diff comparison | ðŸ†“ Free |
| `@artifactuse/html-panel` | HTML + Markdown preview | ðŸ†“ Free |
| `@artifactuse/react-panel` | React/JSX preview | ðŸ†“ Free |
| `@artifactuse/vue-panel` | Vue SFC preview | ðŸ†“ Free |
| `@artifactuse/form-panel` | Interactive forms, wizards | ðŸ†“ Free |
| `@artifactuse/editor-panel` | Canvas + Video editor | â­ Pro |
| `@artifactuse/code-panel` | JS + Python code execution | â­ Pro |

## How Panels Work

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your App                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Artifactuse SDK                                  â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    postMessage    â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ ArtifactusePanelâ”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Panel â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚                   â”‚ iframeâ”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. SDK detects artifact type in AI response
2. SDK loads appropriate panel URL in iframe
3. SDK sends artifact data via `postMessage`
4. Panel renders content and sends events back

## Communication Protocol

Panels communicate with the SDK using the standard `postMessage` API. You can implement this in any language or framework.

### SDK â†’ Panel

```javascript
// Messages your panel will receive from the SDK
window.addEventListener('message', (event) => {
  const { type, action, data } = event.data;
  
  if (type !== 'artifactuse') return;
  
  switch (action) {
    case 'setData':
      // Render artifact content
      renderContent(data);
      break;
    case 'setTheme':
      // Apply theme ('dark' or 'light')
      applyTheme(data);
      break;
    case 'setAccent':
      // Apply accent color ('#6366f1' or 'purple')
      applyAccentColor(data);
      break;
  }
});
```

### Panel â†’ SDK

```javascript
// Send messages back to the SDK
function sendToSDK(action, data) {
  window.parent.postMessage({
    type: 'artifactuse',
    action,
    data,
    timestamp: Date.now()
  }, '*');
}

// Signal ready when panel loads
sendToSDK('panel:ready', {});

// Send form submission
sendToSDK('form:submit', { formId, values });

// Send export complete
sendToSDK('export:complete', { artifactId, filename });
```

## Building a Custom Panel

<Steps>
  <Step title="Create project">
    Set up a project with your preferred framework (React, Vue, Svelte, vanilla JS)
  </Step>
  <Step title="Handle messages">
    Listen for `setData`, `setTheme`, and `setAccent` messages from the SDK
  </Step>
  <Step title="Render content">
    Display the artifact data passed from the SDK
  </Step>
  <Step title="Send events">
    Emit events back to the SDK when user interacts
  </Step>
  <Step title="Deploy">
    Host on your CDN and configure SDK to use it
  </Step>
</Steps>

### Vanilla JavaScript

```html
<!DOCTYPE html>
<html>
<head>
  <title>My Custom Panel</title>
  <style>
    body { font-family: system-ui; margin: 0; padding: 20px; }
    .dark { background: #111827; color: #f3f4f6; }
    .light { background: #ffffff; color: #111827; }
  </style>
</head>
<body class="dark">
  <div id="content"></div>
  
  <script>
    let currentTheme = 'dark';
    
    window.addEventListener('message', (event) => {
      const { type, action, data } = event.data || {};
      if (type !== 'artifactuse') return;
      
      if (action === 'setData') {
        document.getElementById('content').innerHTML = renderData(data);
      }
      if (action === 'setTheme') {
        document.body.className = data;
        currentTheme = data;
      }
    });
    
    function renderData(data) {
      // Your rendering logic
      return `<pre>${JSON.stringify(data, null, 2)}</pre>`;
    }
    
    // Signal ready
    window.parent.postMessage({ 
      type: 'artifactuse', 
      action: 'panel:ready' 
    }, '*');
  </script>
</body>
</html>
```

### Using the Bridge Helper (Optional)

If you prefer, use `@artifactuse/shared` for convenience:

<Tabs>
  <Tab title="Vue">
```javascript
import { createBridge } from '@artifactuse/shared/bridge';

const bridge = createBridge({ debug: true });

bridge.on('setData', (data) => {
  state.value = data;
});

bridge.on('setTheme', (theme) => {
  document.body.className = theme;
});

bridge.send('form:submit', { formId, values });
bridge.signalReady();
```
  </Tab>
  <Tab title="React">
```javascript
import { useEffect, useState } from 'react';
import { createBridge } from '@artifactuse/shared/bridge';

function Panel() {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    const bridge = createBridge({ debug: true });
    
    bridge.on('setData', setData);
    bridge.on('setTheme', (theme) => {
      document.body.className = theme;
    });
    
    return () => bridge.destroy();
  }, []);
  
  return <div>{/* render data */}</div>;
}
```
  </Tab>
  <Tab title="Svelte">
```javascript
import { onMount } from 'svelte';
import { createBridge } from '@artifactuse/shared/bridge';

let data = null;
let bridge;

onMount(() => {
  bridge = createBridge({ debug: true });
  
  bridge.on('setData', (d) => { data = d; });
  bridge.on('setTheme', (theme) => {
    document.body.className = theme;
  });
  
  return () => bridge.destroy();
});
```
  </Tab>
</Tabs>

## Theme Support

Panels should support both dark and light themes. The SDK sends theme updates via `setTheme` message.

```javascript
// Receive theme from SDK
window.addEventListener('message', (event) => {
  if (event.data?.action === 'setTheme') {
    const theme = event.data.data; // 'dark' or 'light'
    document.documentElement.setAttribute('data-theme', theme);
  }
});
```

### CSS Variables

Use CSS variables for easy theming:

```css
:root {
  --bg: #111827;
  --text: #f3f4f6;
  --border: #374151;
  --primary: #6366f1;
}

[data-theme="light"] {
  --bg: #ffffff;
  --text: #111827;
  --border: #e5e7eb;
  --primary: #4f46e5;
}

body {
  background: var(--bg);
  color: var(--text);
}
```

## Registering Custom Panels

The SDK supports configurable panels that can be added, overridden, or disabled without modifying SDK source code.

### Configuration Options

```javascript
provideArtifactuse({
  // Base CDN URL (optional, defaults to Artifactuse CDN)
  cdnUrl: 'https://cdn.yourdomain.com',
  
  // Panel configuration
  panels: {
    // Add new panel type (uses cdnUrl)
    'chart': 'chart-panel',
    
    // Override with full URL (different CDN)
    'video': 'https://video-cdn.com/editor-panel',
    
    // Explicit CDN per panel
    'diagram': { path: 'diagram-panel', cdn: 'https://diagrams.example.com' },
    
    // Disable a built-in panel
    'canvas': null,
  }
})
```

### Panel Configuration Formats

| Format | Example | Description |
|--------|---------|-------------|
| Relative path | `'chart-panel'` | Uses `cdnUrl` as base |
| Full URL | `'https://cdn.example.com/panel'` | Direct URL to panel |
| Object | `{ path: 'panel', cdn: 'https://...' }` | Explicit path + CDN |
| Null | `null` | Disable the panel |

### Runtime Registration

Register panels at runtime with support for type aliases:

<Tabs>
  <Tab title="Vue">
```javascript
const { registerPanel, unregisterPanel, hasPanel, panelTypes } = useArtifactuse();

// Register single type
registerPanel('chart', 'chart-panel');

// Register multiple types/aliases at once
registerPanel(['python', 'py'], 'code-panel');
registerPanel(['typescript', 'ts', 'tsx'], 'code-panel');

// Check if panel exists
if (hasPanel({ type: 'chart' })) {
  console.log('Chart panel available');
}

// Get all registered types
console.log(panelTypes.value);

// Disable multiple panels
unregisterPanel(['canvas', 'whiteboard', 'drawing']);
```
  </Tab>
  <Tab title="React">
```javascript
import { usePanelRegistry } from 'artifactuse/react';

function PluginLoader() {
  const { register, unregister, isRegistered, types } = usePanelRegistry();
  
  useEffect(() => {
    // Register with aliases
    register(['python', 'py'], 'code-panel');
    
    return () => unregister(['python', 'py']);
  }, []);
  
  return <div>Panels: {types.join(', ')}</div>;
}
```
  </Tab>
  <Tab title="Svelte">
```javascript
const { registerPanel, unregisterPanel, panelTypes } = getArtifactuseContext();

// Register with aliases
registerPanel(['python', 'py'], 'code-panel');

// Reactive store of panel types
$: console.log($panelTypes);

// Disable panels
unregisterPanel(['canvas', 'whiteboard']);
```
  </Tab>
  <Tab title="Vanilla JS">
```javascript
const sdk = createArtifactuse({
  panels: {
    'chart': 'chart-panel',
  }
});

// Runtime registration
sdk.registerPanel(['python', 'py'], 'code-panel');

// Check availability
if (sdk.hasPanel({ language: 'py' })) {
  const url = sdk.getPanelUrl({ language: 'py' });
}

// Get all types
console.log(sdk.getPanelTypes());
```
  </Tab>
</Tabs>

### How Panel Routing Works

When the SDK detects an artifact, it looks up the panel URL using:

1. **Artifact type** (e.g., `form`, `social`)
2. **Code language** (e.g., `json`, `svg`, `python`)

```javascript
// Example: artifact with type "chart" 
// â†’ loads https://cdn.yourdomain.com/chart-panel/

// Example: code block with language "json"
// â†’ loads https://cdn.yourdomain.com/json-panel/
```

### Full Example

```javascript
import { provideArtifactuse, useArtifactuse } from 'artifactuse/vue';

// 1. Configure SDK with custom panels
provideArtifactuse({
  cdnUrl: 'https://cdn.example.com',
  panels: {
    // New panel types
    'chart': 'chart-panel',
    'chart-bar': 'chart-panel',
    'chart-line': 'chart-panel',
    
    // Override video to use different CDN
    'video': 'https://video-cdn.example.com/editor-panel/video',
    
    // Disable canvas
    'canvas': null,
  }
});

// 2. Register additional panels at runtime
const { registerPanel } = useArtifactuse();
registerPanel(['python', 'py'], 'code-panel');

// 3. AI can now generate chart artifacts
// ```chart
// { "type": "bar", "data": [...] }
// ```
```

### Default Panels

The SDK includes these built-in panel mappings:

| Type/Language | Panel Path |
|--------------|------------|
| `form` | `form-panel` |
| `video`, `videoeditor`, `timeline` | `editor-panel/video` |
| `canvas`, `whiteboard`, `drawing` | `editor-panel/canvas` |
| `json` | `json-panel` |
| `svg` | `svg-panel` |
| `diff`, `patch` | `diff-panel` |
| `javascript`, `js`, `python`, `py` | `code-panel` |
| `jsx`, `react` | `react-panel` |
| `vue` | `vue-panel` |
| `html`, `htm`, `markdown`, `md` | `html-panel` |
| `mermaid` | `mermaid-panel` |

## Resources

<CardGroup cols={2}>
  <Card title="Source Code" icon="github" href="https://github.com/artifactuse/panels">
    Browse official panel implementations
  </Card>
  <Card title="Development Guide" icon="book" href="https://github.com/artifactuse/sdk/blob/main/docs/DEVELOPING.md">
    Step-by-step guide to building panels
  </Card>
  <Card title="Shared Utilities" icon="package" href="https://github.com/artifactuse/panels/tree/main/packages/shared">
    Bridge, theme, and component utilities
  </Card>
  <Card title="Contributing" icon="git-pull-request" href="https://github.com/artifactuse/sdk/blob/main/CONTRIBUTING.md">
    Contribute to official panels
  </Card>
</CardGroup>